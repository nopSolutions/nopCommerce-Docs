---
title: নপকমার্সে লোড ব্যালেন্সিং এবং ওয়েব ফার্মগুলি
uid: bn/installation-and-upgrading/installing-nopcommerce/web-farms.html
author: git.AndreiMaz
contributors: git.MDRashedKhanMenon
---

# নপকমার্সে লোড ব্যালেন্সিং এবং ওয়েব ফার্মগুলি

লোড ব্যালেন্সিং হ'ল বহু নোড জুড়ে একটি কাজের চাপ বিতরণ। এটি সাধারণত ওয়েব ফ্রন্ট-এন্ড হিসাবে একসাথে অভিনয় করে একাধিক সার্ভারের মধ্যে এইচটিটিপি ট্র্যাফিকের ভারসাম্য বজায় রাখার জন্য ব্যবহৃত হয়।

নপকমার্সে লোড ব্যালেন্সিং কনফিগার করার বিভিন্ন উপায় রয়েছে:

১। আপনি মাইক্রোসফ্টের অ্যাজুরে ওয়েব অ্যাপ্লিকেশনগুলির মতো ক্লাউড-ভিত্তিক অটো-স্কেলিং অ্যাপ্লিকেশন ব্যবহার করেন। দয়া করে এটি সম্পর্কে [এখানে](xref:bn/installation-and-upgrading/installing-nopcommerce/installing-on-microsoft-azure) আরও সন্ধান করুন।

২। আইআইএস এ ওয়েব ফার্মগুলির সাথে লোড ব্যালেন্সিং কনফিগার করুন। এই পদ্ধতির নীচে বর্ণিত হয়েছে

আমরা আপনাকে [এই টিউটোরিয়াল](https://docs.microsoft.com/en-us/iis/web-hosting/scenario-build-a-web-farm-with-iis-servers/overview-build-a-web-farm-with-iis-servers) পড়ার জন্য সুপারিশ করছি আপনি নপকমার্সের জন্য কোনও ওয়েব ফার্মকে কনফিগার করতে শুরু করার আগে। সুতরাং মাইক্রোসফ্ট আইআইএস সার্ভারের সাহায্যে ওয়েব ফার্ম তৈরির দুটি উপায়ের পরামর্শ দেয়:

১। স্থানীয় কন্টেন্ট অবকাঠামো

২। শেয়ার করা নেটওয়ার্ক সামগ্রীর অবকাঠামো

nopCommerce supports both ways and handles content replication by using Distributed File System Replication (DFSR) if you use **Local Content Infrastructure**, or uses a central location to manage the content with **Shared Network Content Infrastructure**.
নপকমার্স উভয় উপায়ে সমর্থন করে এবং বিতরণকৃত ফাইল সিস্টেমের প্রতিলিপি (ডিএফএসআর) ব্যবহার করে যদি আপনি **স্থানীয় সামগ্রীর ইনফ্রাস্ট্রাকচার** ব্যবহার করেন, বা কনটেন্টটি পরিচালনা করতে কেন্দ্রীয় অবস্থান ব্যবহার করেন **শেয়ার্ড নেটওয়ার্ক কনটেন্ট ইনফ্রাস্ট্রাকচার** এর সাথে।

## নপকমার্স কনফিগারেশন

প্রথমত, আপনাকে আইআইএসে আপনার ওয়েব ফার্মের প্রাথমিক সেটিংস কনফিগার করতে হবে এবং সেখানে আপনার নপকমার্স স্টোরের প্রথম উদাহরণটি যুক্ত করতে হবে। তারপরে আপনাকে নপকমার্সকে ওয়েব ফার্মগুলির সাথে কাজ করার অনুমতি দেওয়ার জন্য আপনাকে নপকমার্স প্রশাসক অঞ্চলে কয়েকটি সেটিংস কনফিগার করতে হবে:

১। **কনফিগারেশন → সেটিংস → সমস্ত সেটিংস (উন্নত)** এ যান। **mediasettings.useabsoluteimagepath** সেটিংটি সন্ধান করুন এবং এর মানটিকে *মিথ্যা* তে পরিবর্তন করুন

২। **কনফিগারেশন → সেটিংস → অ্যাপ্লিকেশন সেটিংস** এ যান এবং *বিতরণ করা ক্যাশে কনফিগারেশন* ট্যাবটি সন্ধান করুন। **বিতরণ করা ক্যাশ ব্যবহার করুন** চেকবাক্সটি টিক দিন এবং আপনার পছন্দের বিকল্পটি চয়ন করুন:

   - *রেডিস*। এই ক্ষেত্রে, আপনাকে কেবল নীচে আপনার রেডিস সার্ভারে **কানেকশন স্ট্রিং** প্রবেশ করাতে হবে
   - *এসকিউএল সার্ভার*. এই ক্ষেত্রে, আপনাকে প্রথমে "sql-cache create" কমান্ডটি ব্যবহার করে আপনার ডাটাবেসে একটি নতুন সারণী প্রস্তুত করতে হবে। মাইক্রোসফ্ট ডক্সে এটি সম্পর্কে আরও পড়ুন [এখানে](https://docs.microsoft.com/en-us/aspnet/core/performance/caching/distributes?view=aspnetcore-5.0#distributes-sql-server-cache)। তারপরে **কানেকশন স্ট্রিং**, **স্কিমার নাম** এবং **টেবিলের নাম** ক্ষেত্রগুলি পূরণ করুন

১। যেহেতু আমাদের ওয়েব ফার্মটি প্রক্সি সার্ভার ব্যবহার করে ট্র্যাফিক নিয়ন্ত্রণ করতে অ্যাপ্লিকেশন রিকোয়েস্ট রাউটিং (এআরআর) ব্যবহার করে, **HTTP_X_FORWARDED_PROTO** চেকবক্সটি টিক দিন

২। **সংরক্ষণ করুন** বোতামটি ক্লিক করুন। নোপকমার্স অ্যাপ্লিকেশনটি আবার শুরু হবে

## ওয়েব ফার্ম কনফিগারেশন

### প্রশাসনিক অঞ্চল পুনর্নির্দেশের নিয়ম

যেহেতু একটি ওয়েব ফার্ম কোনও অ্যাপ্লিকেশনটির একাধিক উদাহরণকে হোস্ট করে, তাই ফাইল লকিং এড়াতে আপনাকে নপকমার্সের একটি উদাহরণ প্রাথমিক হিসাবে বেছে নিতে হবে। এই প্রাথমিক নোড অ্যাডমিন প্যানেল থেকে অনুরোধগুলি প্রক্রিয়া করবে।

নিয়মটি নিম্নলিখিত পদ্ধতিতে দেখা উচিত:

```
<rule name="Admin Area" enabled="true" patternSyntax="ECMAScript" stopProcessing="true">
    <match url="^(admin(/.*)?)$|^(lib_npm/.+)$" />
    <conditions logicalGrouping="MatchAll" trackAllCaptures="false">
        <add input="{HTTP_HOST}" pattern="^admin\.wf\.local$" negate="true" />
    </conditions>
    <action type="Rewrite" url="http://admin.wf.local/{R:0}" />
</rule>
```

যেখানে `wf.local` হল আপনার প্রাথমিক উদাহরণের ঠিকানা।

### লোড ভারসাম্য বিধি

ওয়েব ফার্ম সেট আপ করার পরে আপনাকে **অ্যাপ্লিকেশন রিকোয়েস্ট রাউটিং** বিভাগে একটি ভারসাম্য রুল কনফিগার করতে হবে। শর্তটি যুক্ত করুন যা প্রাথমিক নোডের জন্য অনুরোধ করা হ্যান্ডলিং অনুরোধগুলি প্রতিরোধ করে (আমাদের ক্ষেত্রে অ্যাডমিন অঞ্চল অনুরোধগুলি):

```
<rule name="ARR_wf-local_loadbalance" enabled="true" patternSyntax="ECMAScript" stopProcessing="true">
    <match url=".*" ignoreCase="false" />
    <conditions logicalGrouping="MatchAll" trackAllCaptures="false">
        <add input="{PATH_INFO}" pattern="^(/admin(/.*)?)$|^(/lib_npm/.+)$" negate="true" />
    </conditions>
    <action type="Rewrite" url="http://wf-local/{R:0}" />
</rule>
```

যেখানে `wf-local` হ'ল ওয়েব ফার্মের নাম।

আমরা উপরে বর্ণিত দুটি বিধিগুলি যোগ করতে পারি:

১। এগুলিকে `অ্যাপ্লিকেশনহোস্ট.কমফিগ ফাইলটিতে অন্তর্ভুক্ত করুন (**system.webServer/rewrite/globalRules** বিভাগ)

২। আইআইএস ম্যানেজারের **ইউআরএল পুনর্লিখন স্ক্রিপ্ট** বিভাগটি ব্যবহার করুন

> [!NOTE]
>
> কিছু ক্ষেত্রে, জাভাস্ক্রিপ্ট ফাইলগুলির একাধিক "." সমন্বিত ইউআরএল গুলি পরিচালনা করার সাথে এআরআর সমস্যা রয়েছে। প্রতীক উদাহরণস্বরূপ, এটি `min.js` দিয়ে শেষ হওয়া মিনিড জেএস-ফাইলগুলিকে প্রভাবিত করতে পারে। এই জাতীয় ফাইলগুলি প্রক্রিয়া করার সময় ত্রুটিগুলি এড়ানোর জন্য, আমরা এই অনুরোধগুলি সরাসরি কোনও নপকমার্স উদাহরণগুলিতে রুট করার পরামর্শ দিই। আপনি উপরের উদাহরণগুলিতে দেখতে পাচ্ছেন, আমরা প্রাথমিক `lib_npm` ডিরেক্টরিটির জন্য প্রাথমিক দৃষ্টান্তে রাউটিং করে এটি করি।

কনফিগারেশন শেষ হয়ে গেলে আপনি আপনার ওয়েব ফার্মে নতুন দৃষ্টান্ত যুক্ত করেন।

### ফাইলের প্রতিরূপ

আপনি যখন ফাইলের প্রতিরূপের কনফিগারেশন শুরু করবেন দয়া করে তা নিশ্চিত করুন যে প্রাথমিক উদাহরণের নিম্নলিখিত ফোল্ডারগুলি অন্য সমস্ত নোডের (দৃষ্টান্ত) প্রতিলিপি সমর্থন করতে সেট আপ করা হয়েছে:

- /App_Data
- /Plugins
- /Themes
- /wwwroot


> [!NOTE]
>
> সমস্ত ক্রিয়া যা নপকমার্স অ্যাপ্লিকেশনটি পুনরায় চালু করতে অনুমান করে (উদাহরণস্বরূপ, প্লাগইন ইনস্টলেশন, অ্যাপ্লিকেশন সেটিংস আপডেট করা ইত্যাদি) ওয়েব ফার্ম সম্পর্কিত সমস্ত অ্যাপ্লিকেশন পুলের ম্যানুয়াল পুনঃসূচনা করা প্রয়োজন
